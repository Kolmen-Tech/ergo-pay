# Ergo Pay

This project intends to ease Ergo and SigUSD payments integration.
It provides a webpage allowing to generate URL to request Ergo payments to be proceed with Yoroi dApp connector.
Those URLs can be generated by any website to request a payment in Ergo or SigUSD, it can includes a reference so when the payment is received the website is notified of which payment has been received.

The main project is ergo-payment-portal, allowing to process the payment, generate payment URLs and monitor the vouchers.
The monitor-vouchers project is a small nodejs interface allowing to get the vouchers in json from an http request in order to automate the payment processing.
The main app (dApp) ergo-payment-portal is distributed as a static webpage and does not allow such automation.

# Why should I use it ?

You can integrate a FREE payment interface in your website or application, processing payment with 0 fee and no refund can be executed by a third party.

# How to integrate it ?

## Option 1: Use the deployed Ergo Pay at: https://paymentportal.ergo.ga

In this option you do not deploy a personal Ergo payment portal, and will support the fee of the deployed dApp (0.1% min or 0.001 ERG or 0.01 SigUSD).
You can monitor the payment through the https://paymentportal.ergo.ga/voucher.html page or automate it using the monitor-vouchers nodejs script.

You need to:
  - create an Ergo wallet to get an ERG address (let say it is 9xxxxxxxxxxxxxxxxx)
  - create links in your website or application to the payment portal:
  https://paymentportal.ergo.ga/pay.html?address=9xxxxxxxxxxxxxxxxx&currency=ERG&amount=10&ref=Account_17889569
    URL parameters are:
        address=9xxxxxxxxxxxxxxxxx
        currency=ERG
        amount=10
        ref=Account_17889569
    
    address needs to be a valid ERG address not like this one.
    currency needs to be ERG or SigUSD
    amount needs to be > 0.1 for ERG and > 0.01 for SigUSG
    ref is optional, it can be any string up to 40 ascii char
    
  - monitor the payments at https://paymentportal.ergo.ga/voucher.html?address=9ew97YCt7zQDwmLsytMAWGj2kockM11PFCnRvT2cz9LQaaB7uPG
    You will see the payment received until you move the fund in any transaction.
    
## Option 2: Deploy your own Ergo payment portal

- Checkout the ergo-payment-portal project and follow the readme to build a static page
- Integrate the static page generated in the dist folder in your application / website, setting the dApp fees to 0
- Integrate ergo payments like for option 1

This alows you to handle your own payment portal direct from customers.


